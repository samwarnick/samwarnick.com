<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Using SwiftUI for Focuses | Sam Warnick</title>
    <meta charset="UTF-8" />

    <meta
      name="description"
      content="I used SwiftUI to make Focuses. It went suprisingly well."
    />

    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="I used SwiftUI to make Focuses. It went suprisingly well."
    />
    <meta name="og:title" content="Using SwiftUI for Focuses" />
    <meta
      name="og:description"
      content="I used SwiftUI to make Focuses. It went suprisingly well."
    />
    <meta name="og:url" content="https://samwarnick.com/" />
    <meta
      name="og:image"
      content="https://samwarnick.com/2020-03-04-introducing-focuses/focuses.jpg"
    />
    <meta name="og:height" content="628" />
    <meta name="og:width" content="1200" />
    <meta name="twitter:image:alt" content="Focuses iOS app." />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@samwarnick" />
    <meta name="twitter:author" content="@samwarnick" />
    <meta name="twitter:description" content="" />
    <link rel="icon" href="/favicon.ico"/
    <link rel="icon" href="/icon.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/manifest.webmanifest" />
    <link rel="stylesheet" href="/assets/styles/main.css?v=1621023081673" />
    <link
      rel="stylesheet"
      href="/assets/styles/prism-tomorrow.css?v=1621023081673"
    />
  </head>
  <body
    class="bg-rainstorm-500 wiggles grid grid-cols-[1fr,auto,1fr] grid-rows-[max-content,1fr,max-content] gap-x-2 md:gap-x-5 min-h-screen"
  >
    <header
      class="text-gray-50 font-sans m-8 flex flex-col sm:flex-row justify-between items-center col-span-3"
    >
      <a href="/"
        ><h1
          class="text-xl sm:text-3xl font-black hover:text-pink-500 transition bg-rainstorm-500 p-2 mb-2 sm:mb-0"
        >
          Sam Warnick
        </h1></a
      >
      <ol class="flex items-center">
        <li><a href="/about" class="button mr-2">About</a></li>
        <li>
          <a href="https://lilyandsam.show" class="button"
            >Podcast<svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-4 w-4 text-gray-300 ml-1"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
              /></svg
          ></a>
        </li>
      </ol>
    </header>
    <main class="col-start-2">
      <article
        class="prose w-full max-w-2xl bg-gray-50 shadow-lg p-4 md:p-8 my-8"
      >
        <header>
          <h2>Using SwiftUI for Focuses</h2>
          <h3 class="mt-0 !text-gray-500 text-xl md:text-2xl"></h3>
          <div class="mt-2 flex text-gray-400 items-center">
            <time
              class="text-sm text-gray-600"
              datetime="2020-03-25T00:00:00.000Z"
              >March 24, 2020</time
            >
          </div>
        </header>

        <p>
          I think I mentioned it briefly, but Focuses is built mostly with
          SwiftUI. Overall, I'm very impressed with SwiftUI. I don't think I
          would've been able to build the first version of Focuses as quickly as
          I did had I not used SwiftUI.
        </p>
        <p>
          Focuses is my first &quot;real&quot; iOS app. My first app,
          <a
            href="https://samwarnick.com/projects/send-to-nowhere"
            class="external-link"
            >Send To Nowhere</a
          >, is a simple app using UIKit, Swift, and no storyboard. I'm still a
          novice when it comes to the iOS ecosystem. I'm a full-time web
          developer by day, so using SwiftUI felt familiar in ways. However, the
          declarative nature of it still feels quite foreign from time to time.
        </p>
        <h3>SwiftUI: The Good</h3>
        <p>
          I was worried that SwiftUI wasn't going to be mature enough to
          complete my app. I was surprised at how capable it currently
          is—despite it's many shortcomings—and I'm very excited to see it
          develop. It's not perfect, but I was able to use it for about 95% of
          my views. Even in the short time I have been building Focuses, I've
          seen great bug fixes and improvements come to SwiftUI. I'm very
          optimistic for it's future.
        </p>
        <p>
          SwiftUI made some things in Focuses a breeze to implement. Take the
          animation when filling up the circle. That whole view, including the
          animation, took me about 10 minutes to make. Again, I'm not a UIKit
          expert, but I have no idea where to start if I had to make that same
          view without using SwiftUI.
        </p>
        <p>
          <img
            src="https://res.cloudinary.com/verygoodfm/video/upload/c_fill,g_north,h_500,w_500,e_loop/v1584789978/samwarnick.com/score_indicator.gif"
            alt="Animation of score indicator filling up"
          />
        </p>
        <p>
          Creating complex layouts like the calendar was relatively straight
          forward as well. I think my first implementation had too many nested
          views, which were being rendered too often, so it took a long time to
          load. But it was easy to go from idea to implementation quickly. I was
          able to iterate and make a much more performant version fairly
          quickly.
        </p>
        <p>
          <img
            src="https://res.cloudinary.com/verygoodfm/image/upload/v1584789837/samwarnick.com/calendar.png"
            alt="Sreenshot of Focuses calendar with boxes around elements"
          />
        </p>
        <p>
          I also like how easy it is to use CoreData with SwiftUI. There were
          times that things weren't updating when I thought they should've, but
          I found ways around it. This was my first time using CoreData, so for
          all I know, I could be doing everything wrong and that's the source of
          my problems. Hopefully not though.
        </p>
        <p>
          The main issue with CoreData and SwiftUI, in my opinion, is previews.
          I could not find a way to adequately seed that database for previews.
          So for much of the project, I did not use previews. Maybe I need to
          take another look at this.
        </p>
        <h3>SwiftUI: The Bad</h3>
        <p>
          SwiftUI is great at hiding complexity and implementation details, like
          when using <code>@FetchRequest</code>. However, once you want to do
          something that is more complex, like pass in params to your fetch
          request, things can get messy.
        </p>
        <p>Here's a couple things I needed to use UIKit for:</p>
        <ol>
          <li>
            Text fields that I wanted to become the first responder (i.e.,
            receive focus when the view appears and show the keyboard).
          </li>
          <li>
            <code>UITextView</code>. There doesn't appear to be a SwiftUI
            equivalent of this. I needed a multi-line text input for notes. I
            also wanted an input accessory view, and I believe this can still
            only be done using UIKit.
          </li>
          <li>
            I wanted to set the scroll position of the calendar view so you
            would start at the bottom. The only way I could find to do this is
            by using a <code>UITableView</code>. I was still able to use my
            SwiftUI view for the cells.
          </li>
        </ol>
        <p>
          There's also some things that just don't make a lot of sense. Action
          sheets do not work on iPad. You have to use a
          <a
            href="https://stackoverflow.com/questions/56910941/present-actionsheet-in-swiftui-on-ipad"
            class="external-link"
            >work around</a
          >. iPad support in general seems kinda weak. I’ve found it tough to
          make layouts for iPad, part of the reason the first version of Focuses
          doesn’t have great iPad support. I need to spend more time figuring it
          out.
        </p>
        <p>
          I also had a lot of trouble embedding forms <em>inside</em> other
          views, like on the privacy and about views. My solution is hacky and
          doesn't respond well to changing the system font size, but it works
          for now. Essentially, I have to give the form a set height based on my
          best guess using the font size. Additionally, I have to use
          <code>.fixedSize(horizontal: false, vertical: true)</code> on all the
          text so it would wrap properly.
        </p>
        <p>
          I also wish there was a way to customize the navigation bar. As far as
          I can tell, you're stuck with it's color and font.
        </p>
        <p>
          I'm hoping all these things will be addressed in iOS 14, or possibly
          even point updates of iOS 13.
        </p>
        <h3>Conclusion</h3>
        <p>
          The best resource I've found for SwiftUI is
          <a
            href="https://www.hackingwithswift.com/quick-start/swiftui"
            class="external-link"
            >Hacking with Swift</a
          >. The examples are fantastic.
        </p>
        <p>
          If I were starting a new app today, I think I would still start with
          SwiftUI. I feel like I'm faster when I use it, and it's pretty simple
          to use a UIKit view if you need to. I think I've only scratched the
          surface of what SwiftUI is capable of. I need to delve deeper into
          animations and transitions.
        </p>
        <p>
          I'm excited for the future of SwiftUI. I feel like it allows me to
          create things I would've dreaded to try a year ago.
        </p>
        <p>
          If you're curious about how I did anything in Focuses, let me know on
          <a href="https://twitter.com/samwarnick" class="external-link"
            >Twitter</a
          >, or use the
          <a href="https://samwarnick.com/contact" class="external-link"
            >contact form</a
          >. I can dig into the nitty-gritty specifics.
        </p>

        <footer class="text-rainstorm-500">
          <div class="w-[80px]">
            <svg
              viewBox="0 0 100 100"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
            >
              <g
                id="s"
                stroke="none"
                stroke-width="1"
                fill="none"
                fill-rule="evenodd"
              >
                <path
                  d="M44.6077669,30.9307137 C42.2529168,37.893324 35.9248744,27.6931476 38.3754917,24.2275391 C34.1271672,20.2539942 21.6395129,7.67051974 17.6556857,17.1722305 C17.8919115,36.2809783 34.9839573,49.577451 41.8846628,66.1954404 C47.177079,81.5691617 28.6395129,96.3367102 14.9060914,87.3485268 C-0.769284293,69.044294 34.7564441,50.0714545 50.4816646,47.6349466 C55.5047686,52.395264 47.1141161,52.7698672 53.6474494,48.501966 C59.9262854,50.1300083 59.9925993,53.3275391 64.9322818,47.312548 C70.0373965,51.4130771 70.8012413,51.1682799 76.2936575,47.4312428 C79.9537986,54.0677508 85.2386311,48.0479977 89.4672025,51.1956167 C91.9201125,55.8825656 83.3119997,57.8509959 80.459266,56.3021423 C74.675139,52.4554051 78.1172907,50.9589324 72.5232871,55.6785092 C71.2144688,56.2099025 69.7033577,56.2301846 68.3694952,55.7749818 C66.5652624,54.9592852 64.8776081,53.3090206 64.3308709,51.3927949 C72.1567968,55.9584033 49.1195834,56.9875039 56.4867792,52.6982622 C49.8144688,63.847645 40.1881901,45.52313 52.5354564,46.2367102 C53.6423348,47.2546996 55.1149979,48.6848584 54.6925993,50.346234 C40.7991249,56.9139589 20.7042395,62.2196026 15.0173436,79.2712781 C18.6735517,88.4539942 35.2885429,85.0580506 36.7814882,75.4278919 C38.389072,52.4395321 2.05907373,34.2534651 15.7144864,10.407257 C27.713587,4.52545802 45.0042395,18.1862693 44.6077669,30.9307137"
                  id="path"
                  fill="currentColor"
                  fill-rule="nonzero"
                ></path>
              </g>
            </svg>
          </div>
        </footer>
      </article>
    </main>
    <footer
      class="font-light text-sm text-gray-300 flex flex-col p-8 items-center col-span-3"
    >
      <nav class="mb-4">
        <ul class="list-reset flex flex-col sm:flex-row">
          <li class="flex mb-2">
            <a href="/feed.xml" class="hover:underline hover:text-pink-500"
              >RSS</a
            >
            <span class="mx-2 hidden sm:inline-block">•</span>
          </li>
          <li class="flex mb-2">
            <a href="/sitemap.xml" class="hover:underline hover:text-pink-500"
              >Sitemap</a
            >
            <span class="mx-2 hidden sm:inline-block">•</span>
          </li>
          <li class="flex mb-2">
            <a
              href="https://twitter.com/samwarnick"
              class="flex items-center hover:underline hover:text-pink-500"
              >Twitter<svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-4 w-4 ml-1"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"
                />
                <path
                  d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"
                /></svg
            ></a>
          </li>
        </ul>
      </nav>
      <p class="">Copyright 2016 – 2021 Sam Warnick</p>
    </footer>
  </body>
</html>
